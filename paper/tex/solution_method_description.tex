\subsection{Проблемы децентрализованных систем}
Для распределенной децентрализованной многоагентной системы важны следующие аспекты \cite{blasco2012multiagent}:

\begin{table*}[h!]
	\scriptsize
	\centering	
	\caption{Реализация критических для производительности задач для отобранных фреймворков}
	\label{tab:solutions}
	\def\arraystretch{1.5}
	\begin{tabular}{lp{3.5cm}p{3cm}p{3cm}p{1.9cm}p{2cm}}
		\toprule
		\textbf{НАЗВАНИЕ} & \textbf{ЦЕНТРАЛИЗОВАННЫЕ СЕРВИСЫ} & \textbf{ВЗАИМОДЕЙСТВИЕ МЕЖДУ УЗЛАМИ} & \textbf{МЕХАНИЗМЫ КОММУНИКАЦИИ} & \textbf{ТИП СООБЩЕНИЙ} & \textbf{ВЗАИМОДЕЙСТВИЕ С АППАРАТУРОЙ} \\		
		\midrule     
		ROS         & Сервисы поиска, именования, сервис параметров & Топики, параметры, сервисы         & TCP, UDP, собственный протокол rosserial                     & Бинарный                     & Инкапсуляция в узлах\\ 
		MIRA         & Нет                                           & Топики, RPC                        & Внутрипроцессное взаимодействие, TCP                         & Бинарный, XML, JSON  & Инкапсуляция в узлах и RPC-API     \\ 
		OROCOS/Rock  & Сервисы поиска, именования                    & Порты, сервисы, события, параметры & CORBA, TCP, UDP, SSL,UNIX Sockets, MQueue, EtherCAT, CanOPEN & Сериализация на основе CORBA & Инкапсуляция в узлах и RPC-API \\ 
		YARP         & Сервис имен                                   & Порты, топики                      & ACE, TCP, UDP, внутрипроцессное взаимодействие               & Бинарный                 & Инкапсуляция в узлах и динамически подключаемые библиотеки    \\ 
		OpenRTM-aist & Сервис имен                                   & Порты, сервисы, параметры          & TCP, UDP, SSL,UNIX Sockets, CORBA                            & Сериализация на основе CORBA & Инкапсуляция в узлах и RPC-API\\ 
		\bottomrule
	\end{tabular}
\end{table*}

\subsubsection{Тип архитектуры} большая часть фреймворков использует гибридную архитектуру, поскольку такой подход позволяет избежать ряд проблем, а именно:
\begin{itemize}
	\item Не требуется инкапсулировать в каждый узел системы общие сервисы, как, например, службу поиска других узлов: эту задачу выполняет специально выделенный узел. Так же поступают и с агенствами - контейнерами, создающие, регистрирующие и хранящие узлы-агенты.
	\item Уменьшение нагрузки на сеть коммуникаций, поскольку вся нагрузка по общим для всех узлов запросам смещается в сторону обработки на выделенных узлах. Это приводит к появлению критических узлов в системе, в случае отказа которых весь робот может оказаться неспособным продолжать выполнение поставленных задач. Таким образом, в таком подходе требуется отдельно рассматривать производительность таких критических узлов системы, как служба поиска узлов, служба именования и, возможно, другие выделенные сервисы.
\end{itemize}
В случае, если используется максимально децентрализованная архитектура, то возникают следующие проблемы:
\begin{itemize}
	\item Увеличивается сложность узлов, а так же нагрузка на обработку данных между ними. Тем не менее то, насколько эффективно используются возможности фреймворка по взаимодействию между узлами, зависит от разработчика на прикладном уровне.
	\item Увеличивается нагрузка на систему коммуникации фреймворка. Под системой коммуникации понимается набор технологий и протоколов, обеспечивающих обмен данными между узлами системы. Часто для обеспечения коммуникации используются отдельные узлы, создаваемые самим фреймворком, будь то брокеры объектных запросов (ORB) при использовании CORBA или реализации шаблона взаимодействия \enquote{издатель-подписчик} при помощи топиков (от англ. topic - тема), которые имеют свою внутреннюю реализацию.
\end{itemize}

\subsubsection{Тип взаимодействия между узлами} при использовании многоагентной архитектуры используется несколько разных способов взаимодействия между узлами-агентами:
\begin{itemize}
	\item Порты, реализующие независимое чтение из входных портов, запись во входные и взаимодействие \enquote{один ко многим}.
	\item Топики, реализующие шаблон \enquote{издатель-подписчик} и взаимодействие \enquote{многие ко многим}.
	\item События, реализующие шаблон \enquote{наблюдатель} и асинхронное взаимодействие \enquote{один ко многим}.
	\item Сервисы, предоставляющие реактивный способ поведения узлам: возможность отправлять запрос от узла-клиента на узел-сервис, реализуя взаимодействие выполнения удаленных процедур.
	\item Свойства, предоставляющие возможность менять состояние узлов при помощи селекторов параметров агента (get/set). Реализация может отличаться в зависимости от архитектуры: гибридная архитектура представляет выделенный узел-сервис - службу свойств, децентрализованная инкапсулирует свойства узлов непосредственно в агентах системы.
\end{itemize}

Большинство фреймворков дает выбор: какой тип взаимодействия между узлами использовать, но, в случае с реализацией сервисов может возникнуть простой системы до тех пор, пока не работающий или перегруженный обработкой запросов узел, предоставлявший требуемый функционал, не будет восстановлен. Реализация отдельных типов взаимодействий влияет практически на все аспекты производительности: задержку, вычислительные ресурсы, использование памяти, энергопотребление. Для каждого из фреймворков следует тестировать каждый из способов взаимодействия по всем показателям производительности.

\subsubsection{Механизмы коммуникации} для доставки сообщений обычно используются различные подходы и протоколы. Обычно разработчики пишут свои решения на основе стека TCP/IP с некоторыми оптимизациями, например реализация узлов как отдельных потоков внутри процесса-агенства. Это позволяет использовать общую память процесса и ускорить взаимодействие между узлами внутри процесса-агенства, которые могут располагаться в пределах одного вычислительного устройства. Это влечет за собой возможность потерять доступ ко всем узлам агенства в случае неисправностей из-за ошибок, допущенных при реализации агентов. Эта проблема решается репликацией агенств на вычислительной системе. Кроме того для доставки сообщений между узлами используются как более высокоуровневые технологии (CORBA, ICE, ACE), так и приближенные к аппаратной части (EtherCAT, I2C, CANBus). Выбор механизма доставки данных между узлами влияет на задержку получения информации, на пропускную способность между узлами, целостность данных, а так же потребление ресурсов вычислительной системы: чем более высокоуровневая технология, тем больше. Дополнительный функционал на уровне коммуникации, например QoS или шифрование так же влияет на производительность. При наличии такого функционала его следует тестировать отдельно.

\subsubsection{Тип сообщений} сообщения в зависимости от их структуры влияют на производительность. Бинарные типы сообщений имеют меньший объем, а следовательно на их передачу требуется меньше энергии и времени. Структурированные типы, вроде XML и JSON, хорошо поддаются анализу для разработчика, но могут занимать больше времени на обработку своих данных, а так же требуют больше времени на передачу данных между узлами.

\subsubsection{Способ взаимодействия с аппаратурой} существует два основных способа предоставить интерфейс от аппаратной части системы к прикладному ПО:
\begin{itemize}
	\item Инкапсулировать взаимодействие с аппаратурой в отдельных узлах, отображающих устройства.
	\item Использовать промежуточный слой - сервер, который отвечает на запросы узлов и устройств.
	\item Динамически связывающиеся библиотеки.
\end{itemize}

От способа обращения будет зависеть отзывчивость системы на внешнее взаимодействие. Кроме того, различные реализации может использовать различное количество ресурсов. Кроме того, в случае использования дополнительного слоя абстракции с клиент-серверным взаимодействием между аппаратным слоем системы и фреймворком является уязвимым подходом с точки зрения устойчивости системы.

\subsection{Решения проблем в различных реализациях фреймворков}

На таблице \ref{tab:solutions} показано сопоставление возникающих проблемы и их решений для отобранных для исследования фреймворков \cite{blasco2012multiagent,bruyninckx2001orocos,einhorn2012mira,metta2006yarp,mohamed2008survey,elkady2012comprehensive}.

\subsection{Рассматриваемые области тестирования}
\begin{itemize}
	\item Централизованные сервисы, если они имеются во фреймворке с целью установления их быстродействия, устойчивости, потребления ресурсов памяти.
	\item Способы взаимодействия между узлами с целью установления задержки передачи сообщений между узлами, возможных затрат ресурсов на обработку сообщений.
	\item Коммуникация между узлами многоагентной системы с целью установления пропускной способности, затрат вычислительных ресурсов на передачу данных. При использовании CORBA и ACE - объем потребляемой памяти на поддержку коммуникации этими методами. При использовании шифрования - задержку передачи сообщения и затраты вычислительных ресурсов на преобразование данных.
	\item Формат передачи данных между узлами с целью установления скорости сериализации и десериализации, объема передаваемых данных, скорости извлечения данных в случае, если информация сжимается.
	\item Интерфейсы между аппаратной частью и фреймворком с целью установления задержки реакции системы на окружение.	
\end{itemize}
