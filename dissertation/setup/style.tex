%=== Разметка документа
\geometry{
	a4paper, 
	top = 2cm,
	bottom = 2cm,
	left = 3cm,
	right = 1cm,
	%includeheadfoot,
	%asymmetric
}
%=== Форматирование текста
%%%% Междустрочный интервал 1.5 строки
\onehalfspacing		
\linespread{1.43}
%%%% Отступ красной строки - 1.25см
\setlength{\parindent}{1.25cm}	
%%%% Шрифт Times New Roman
\setmainfont{Times New Roman}

%=== Заголовки
%%%% Главы
\titleformat{\chapter}[hang]{\normalfont\bfseries\centering\uppercase}{\thechapter{} }{0pt}{}
\titlespacing{\chapter}{0pt}{-4ex}{2.5ex}
%%%% Разделы
\titleformat{\section}[hang]{\normalfont\bfseries}{\thesection{}  }{0pt}{}
\titlespacing{\section}{\parindent}{2.5ex}{0pt}
%%%% Подразделы
\titleformat{\subsection}[hang]{\normalfont\bfseries}{\thesubsection{} }{0pt}{}
\titlespacing{\subsection}{\parindent}{2.5ex}{0pt}
%%%% Подподразделы
\titleformat{\subsubsection}[hang]{\normalfont\bfseries}{\thesubsubsection{} }{0pt}{}
\titlespacing{\subsubsection}{\parindent}{2.5ex}{0pt}

%=== Форматирование содержания
\contentsmargin{3cm}
%%%% Глубина вложенности содержания 
\setcounter{tocdepth}{1}           % до подразделов
\setcounter{secnumdepth}{3}        % считать тоже до подразделов
%%%% Формат глав
\titlecontents{chapter}
[2cm]             				% левый отступ
{}                  				% предваряющий код
{\contentslabel{3.2em}}  			% формат, если заголовок нумерованный
{}                                  % формат, если заголовок НЕнумерованный
{\titlerule*[1pc]{ }\contentspage}  % заполнение \titlerule*[какой длины повторение]{чем} до номера страницы заголовка.
%%%% Формат разделов
\titlecontents{section}
[2cm]
{}
{\contentslabel{2.3em}}
{\hspace*{-2.3em}}
{\titlerule*[1pc]{ }\contentspage}

%=== Минимизируем количество переносов
\tolerance = 500
\hyphenpenalty = 20000
\emergencystretch = 2cm

%=== Номера только для тех формул, на которые есть ссылки в тексте
\mathtoolsset{showonlyrefs=true}

%=== Работа с гиперссылками
\hypersetup{
	colorlinks=black,
	urlcolor=black,
	filecolor=black,
	linkcolor=black,
	hidelinks
}

%=== Подписи
%%%% К таблицам
\captionsetup[table]{labelsep=endash}
%%%% К рисункам
\captionsetup[figure]{labelsep=endash}
%%%% К рисункам
\captionsetup[lstlisting]{labelsep=endash}

%=== Стиль документа
%%%% Номера страниц внизу
\newpagestyle{mystyle}{\setfoot[\thepage][][]{}{\thepage}{}}
%%%% Применить стиль
\pagestyle{mystyle}

\input{setup/listings.tex}