В соответствии с базовыми критериями отбора в разделе \ref{title:chapter1:performance_testing_benchmarks_review} ниже представлены наиболее освещенные проекты.

\begin{description}[noitemsep]
	\item [Hayai \cite{hayai-repo}] Данный фреймворк является наиболее простым из представленных. Описание тестов происходит при помощи отдельного макроса. Предоставляет возможность выбрать количество запусков теста, количество итераций работы тестируемого блока кода, позволяет компоновать тесты в группы. Вывод результата может производиться в стандартный поток ввода/вывода, либо в файл в форматах json и junit. Подробная документация отсутствует: имеется возможность получить справку из скомпилированного бенчмарка, из которой можно получить информацию о возможных способов запуска бенчмарка, а так же доступна описательная запись на персональном сайте автора \cite{hayai-blog}. Время вычисляется при помощи системных часов. Имеется поддержка фикстур. Не имеет возможности создавать и использовать пользовательские счетчики, зависит только от кода стандартной библиотеки C++.
	\item [Celero \cite{celero-repo}] Данный фреймворк обладает большим количеством возможностей: вычисление времени выполнения теста во время исполнения, предоставление табличных результатов в формате csv, возможность установки ограничений на время теста. Время вычисляется при помощи системных часов стандартной библиотеки \inline{<chrono>}. Имеет возможность отключать некоторые оптимизации, которые могут влиять на скорость работы тестируемого блока кода. Не имеет возможности определять пользовательские счетчики. Поддержка фикстур имеется.
	\item [Nonius \cite{nonius-repo}] Данный фреймворк имеет в сравнении с другими зависимость от библиотеки Boost, поскольку в реализации \inline{std::chrono} для VS2013 существуют ошибки в реализации. Поскольку тестирование планируется в среде Linux, то в данном контексте это излишняя зависимость. Автоматически считает среднее значение и стандартное отклонение, но не имеет возможности определить пользовательские счетчики. Поддержка фикстур имеется. Имеет возможность вывода результата в стандартный ввод/вывод, а так же форматах csv, junit, html.
	\item [Google benchmark \cite{google-benchmark-repo}] Данный фреймворк вычисляет время реальное (wall-clock) на основе машинных часов, так и используя ассемблерную команду \inline{RDTSC} (Read Time Stamp Counter) для аритектуры x86\_64, которая возвращает количество тактов ядра процессора с момента включения ядра. Ниже представлены проблемы данного способа вычисления и их возможные решения.
	\begin{itemize}[noitemsep]
		\item Из-за влияния работы кэшей процессора будет теряться точность вычислений. Решение: делать несколько итераций вычислений требуемого фрагмента в цикле. Google benchmark самостоятельно выбирает количество итераций выполнения теста на основе затраченного времени: чем меньше была получена задержка, тем с большей погрешностью будет результат, значит требуется больше измерений и, соответственно итераций.
		\item Проблемы многопоточности, в частности влияние обработки соседних потоков, а так же смена обрабатывающего ядра процессора, на котором, скорее-всего, используется другое значение счетчика тактов. Решение: отслеживание на каком ядре работает, сериализация идентификатора ядра. Решение представленно в статье Intel\cite{paoloni2010benchmark}. В Google Benchmarks данная проблема не учтена. Возможным решением является привязка процесса к конкретному ядру процессора. Для ОС Linux это делается при помощи утилиты \inline{taskset}.
	\end{itemize}
	Имеется поддержка фикстур, пользовательских счетчиков, возможность приостанавливать вычисление времени, передача диапазона числовых аргументов, вывод результата в форматы csv, json, а так же стандартный поток ввода-вывода.
\end{description}

В таблице \ref{table:chapter1:performance_testing_benchmarks_review_table} показано сравнение вышеописанных бенчмарк-фреймворков. Таким образом, имея меньше зависимостей, больший функционал и возможность измерения тактов ядер процессора, Google benchmark является наиболее подходящим инструментом для выполнения тестирования производительности \marm{}.
\input{tex/content/chapter1/performance_testing_benchmarks_review_table.tex}
